# 함수 
익혀야 하는 내용 
- 함수 표현식 
- 함수 선언문
- 지역 유효범위 
- 변수 호이스팅(hoisting)
- 나은 인터페이스를 제공하는 API
- 전역 변수를 덜 사용하는 코드 초기화
- 여러가지 패턴
## 배경 지식 
함수는 `일급 객체(first-class)`다 `유효범위(scope)`를 제공 
- 런타임 즉 프로그램 실행 중 동적으로 생성 
- 변수에 할당 가능, 달느 변수에 참조를 복사할 수 있고, 확장도 가능 몇몇 특별한 경우를 제외하면 삭제 가능 
- 다른 함수의 인자로 전달 가능, 함수의 반환 값이 될 수 있다. 
- 자기 자신의 프로퍼티와 메서드를 가질 수 있다. 

함수는 객체이다. 
```javascript
var add = new Function('a, b', 'return a + b ');
add(1, 2);
```
위와 같이 함수는 객체이다 하지만 Function()생성자의 사용은 아래의 이유로 eval()을 사용하는 것만큼 좋지 않다. 

1. 코드가 문자열로 전달되어 평가
2. 따옴표를 이스케이프해야 함
3. 가독성이 떨어짐 


두번째 기능은 함수가 유효 범위를 제공한다. 자바스크립트에서는 중괄호({}) 지역 유효범위 밖에 없다. 

## 용어정리 
패턴을 정의할 때 합의된 이름을 사용하는 것은 코드자체 만큼이나 중요하다. 

```javascript
// 기명 함수 표현식
var add = function add(a, b) {
    return a + b;
};
```
이름을 생략한 함수 표현식을 `무명 함수 표현식(unnamed function expression)`이라고 한다. `간단하게 함수 표현식(function expression)`이라고도 쓰인다. 

```javascript
// 함수 표현식(또는 익명 함수)
var add = function(a, b){
    return a + b;
};
```
`함수 표현식`이 더 넓은 의미의 용어이며 `기명 함수 표현식`은 함수표현식 중 이름을 정의한 함수를 가리키는 구체적인 용어다. 

둘의 유일한 차이점은 **함수 객체의 name 프로퍼티가 빈 문자열이 된다는 것.**

두번째 add를 유지하면 add.name 프로퍼티는 만자열 add라는 값을 가지게 된다. 함수 안에서 자신을 재귀적으로 호출할 때 유용하다 이런 용도가 아니면 생략해도 좋음.

마지막, `함수 선언문(function declation)`이 있다. 
```javascript
function foo() {
    // 함수 본문
}
```
함수표현식의 결과를 변수에 할당하지 않을 경우(이러한 사용법을 `콜백 패턴`이라고 한다.) 

언뜻 보기에는 같아보이는 두 문법은 세미콜론이 붙는지 여부에 따라서 기명 함수 표현식과 함수 표션식은 문법 적인 차이가 있다. 함수 선언문에는 세미콜론이 필요하지 않지만 함수 표현식에는 필요하다. 

> 함수 리터럴이라는 용어도 자주 사용, 이용어는 함수 표현식 또는 기명 함수 표현식 둘다 뜻할 수 있음 따라서 이런 표현은 사용하지 말것

## 선언문 vs 표현식: 이름과 호이스팅
둘 중 어떤것을 사용해야 하는지는 함수 선언문을 사용할 수 없는 경우를 생각하면 쉽게 풀린다. 함수 객체를 매개 변수로 전달하거나, 객체 리터럴로 메서드

```javascript
// 함수 표현식 callMe를 함수의 인자로 전달. 
callMe(function(){
    // 이 함수는 무명 함수(익명 함수) 표현식이다. 
})

// 기명 함수 표현식을 callMe 함수의 인자로 전달,. 
callMe(function Me(){
    // 이 함수는 me라는 기명 함수 표현식이다. 
})

// 함수 표현식을 객체의 프로퍼티로 저장.
var myOjbect = {
    say: function(){
        // 이 함수는 함수 표현식이다. 
    }
}
```

함수 선언문은 전역 유효범위나 다른 함수의 본문 내부, 즉 `프로그램 코드`에서만 쓸 수 있다. 변수나 프로퍼티에 할당할 수 없고, 함수 호출시 인자로 함수에 넘길 때도 사용할 수 없다. 그렇다면 언제 함수 선언문을 사용할 수 있을까? 

아래의 함수는 모두 함수 선언문 패턴으로 정의 되었다. 
```javascript
// 전역 유효범위
function foo() {
    function local() {
        // 지역 유효범위
        function bar() {}
        return bar;
    }
}
```

## 함수의 name프로퍼티
함수를 정의하는 패턴을 선택시 읽기 전용인 name 프로퍼티를 쓸 일이 있는지 고려해 보아야한다. 거듭 말하지만 name 프로퍼티는 표준이 아니지만 많은 실행환경에서 사용가능하다. 함수 선언문과 기명 함수 표현식을 사용하면 name 프로퍼티가 정의된다. 반면 무명 함수 표현식의 name 프로퍼티값은 경우에 따라 다르다 IE에서는 undefined가 되고 firefox나 webkit은 빈 문자열로 정의된다. 

```javascript
function foo(){} // 함수 선언문
var bar = function() {}; // 함수 표현식 
var baz = function baz() {}; // 기명 함수 표현식 

foo.name; // "foo"
bar.name; // ""
baz.name; // "baz"
```

































